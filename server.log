nohup: ignoring input
2025-06-12 01:58:52 - shared.utils - INFO - 로깅 시스템 초기화 완료
2025-06-12 01:58:52 - shared.utils - INFO - 환경 설정 완료
2025-06-12 01:58:56 - datasets - INFO - PyTorch version 2.7.1+cu126 available.
2025-06-12 01:58:56 - service.storage.vector_store - INFO - IndexIVFFlat 생성 (nlist=256, nprobe=32)
2025-06-12 01:58:56 - service.storage.vector_store - INFO - FAISS CPU 인덱스 초기화 완료: IndexIVFFlat (CPU 스레드: 8)
2025-06-12 01:58:56 - service.storage.vector_store - INFO - 기존 FAISS CPU 인덱스 로드: /mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/faiss_index/vector_index.faiss
2025-06-12 01:58:56 - service.storage.vector_store - INFO - 기존 메타데이터 로드: 10개 문서
2025-06-12 01:58:56 - service.storage.vector_config_manager - INFO - VectorDB 적재 조건 변경 없음
2025-06-12 01:58:56 - service.storage.vector_store - INFO - IndexIVFFlat 생성 (nlist=256, nprobe=32)
2025-06-12 01:58:56 - service.storage.vector_store - INFO - FAISS CPU 인덱스 초기화 완료: IndexIVFFlat (CPU 스레드: 8)
2025-06-12 01:58:56 - service.storage.vector_store - INFO - 기존 FAISS CPU 인덱스 로드: /mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/faiss_index/vector_index.faiss
2025-06-12 01:58:56 - service.storage.vector_store - INFO - 기존 메타데이터 로드: 10개 문서
2025-06-12 01:58:56 - sentence_transformers.SentenceTransformer - INFO - Load pretrained SentenceTransformer: BAAI/bge-m3
2025-06-12 01:59:00 - sentence_transformers.SentenceTransformer - INFO - 2 prompts are loaded, with the keys: ['query', 'text']
2025-06-12 01:59:00 - admin.tools.document_indexer - INFO - 문서 인덱서 초기화 완료 (LlamaIndex 기반)
2025-06-12 01:59:00 - admin.tools.document_indexer - INFO - 자동 문서 인덱싱 시작 (LlamaIndex): /mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/documents
2025-06-12 01:59:00 - admin.tools.document_indexer - INFO - 디렉토리 인덱싱 시작 (LlamaIndex): /mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/documents
2025-06-12 01:59:00 - admin.tools.document_indexer - INFO - 문서 인덱싱 시작 (LlamaIndex): iljoo_faq.pdf
2025-06-12 01:59:01 - service.storage.vector_store - INFO - 중복 문서 10개 스킵됨 (총 10개 중)
2025-06-12 01:59:01 - service.storage.vector_store - INFO - 모든 문서가 이미 인덱싱됨 (10개 중복)
2025-06-12 01:59:01 - admin.tools.document_indexer - INFO - 문서 인덱싱 완료: iljoo_faq.pdf (10개 청크)
2025-06-12 01:59:01 - admin.tools.document_indexer - INFO - 디렉토리 인덱싱 완료: 4개 성공, 0개 실패
2025-06-12 01:59:01 - admin.tools.document_indexer - INFO - 자동 인덱싱 완료: 4개 새로 인덱싱, 0개 실패, 총 4개 파일
INFO:     Will watch for changes in these directories: ['/mnt/ssd/1/sanguk/ai_agent/deephub']
INFO:     Uvicorn running on http://0.0.0.0:9999 (Press CTRL+C to quit)
INFO:     Started reloader process [4054855] using StatReload
🚀 ILJoo Deep Hub RAG Service (Fast Start)
==================================================
✅ 기본 설정 검증 완료
⚡ 빠른 시작 모드: 모델들은 첫 요청 시에 로딩됩니다
🔍 VectorDB 적재 조건 변경 확인...
✅ VectorDB 적재 조건 변경 없음
📁 문서 자동 인덱싱 시작...
✅ 새 문서 4개 인덱싱 완료
📊 전체 파일: 4개, 인덱싱: 4개
🎯 서버 시작 중...
🌐 서버 주소: http://0.0.0.0:9999
📖 API 문서: http://localhost:9999/docs
🔧 시스템 상태: http://localhost:9999/status
💬 메인 화면: http://localhost:9999/

📝 성능 팁:
  - 첫 질문 시 모델 로딩으로 약간의 시간이 소요됩니다
  - 이후부터는 빠른 응답이 가능합니다

📁 문서 관리:
  - 새 문서를 '/mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/documents' 폴더에 추가하세요
  - 재시작 시 자동으로 새 문서가 인덱싱됩니다
  - 수동 인덱싱: python admin.py
INFO:     Started server process [4055018]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
파일 업로드 및 인덱싱 중 오류: [Errno 18] Invalid cross-device link: '/tmp/088f7784-0b36-4b16-9142-7efbccce5417_(주)일주지앤에스_경조금지급규정_20240901.pdf' -> '/mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/documents/(주)일주지앤에스_경조금지급규정_20240901.pdf'
상세 오류: Traceback (most recent call last):
  File "/mnt/ssd/1/sanguk/ai_agent/deephub/service/api/main.py", line 386, in upload_and_index_document
    os.rename(temp_file_path, final_file_path)
OSError: [Errno 18] Invalid cross-device link: '/tmp/088f7784-0b36-4b16-9142-7efbccce5417_(주)일주지앤에스_경조금지급규정_20240901.pdf' -> '/mnt/ssd/1/sanguk/ai_agent/deephub/shared/data/documents/(주)일주지앤에스_경조금지급규정_20240901.pdf'

